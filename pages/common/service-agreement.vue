<template>
	<view class="agreement-container">
		<h1 class="title">用户服务协议</h1>
		<view class="content">
			<p>更新日期：2025年5月18日</p>
			<p>生效日期：2025年5月18日</p>
			<p>欢迎您使用“口袋智富”应用（以下简称“本应用”）！</p>
			<p>为使用本应用的服务，您应当阅读并遵守《用户服务协议》（以下简称“本协议”）。请您务必审慎阅读、充分理解各条款内容，特别是免除或者限制责任的条款。除非您已阅读并接受本协议所有条款，否则您无权使用本应用提供的服务。您的使用行为即视为您已阅读并同意本协议的约束。</p>
			
			<h2>一、服务说明</h2>
			<p>1.1 本应用是一款提供个人记账、资产管理、预算控制及财务数据分析等功能的应用。具体服务内容以本应用实际提供的为准。</p>
			<p>1.2 您理解并同意，本服务仅依其当前所呈现的状况提供，对于任何用户信息或个人化设定之时效、删除、传递错误、未予储存或其他任何问题，本应用均不承担任何责任。本应用保留不经事先通知为维修保养、升级或其它目的暂停本服务任何部分的权利。</p>
			<p>1.3 您理解并同意，为了服务所需，本应用可能包含广告或商业信息，您同意在使用过程中显示本应用和第三方供应商、合作伙伴提供的广告。</p>

			<h2>二、用户行为</h2>
			<p>2.1 您应对自己使用本应用服务的行为负责，并承诺在使用本服务时必须符合中国有关法规及一切使用互联网之国际惯例，不将本服务用于任何非法目的。</p>
			<p>2.2 您不得利用本服务从事以下行为：</p>
			<p> (a) 上载、张贴、发送电子邮件或传送任何非法、有害、胁迫、骚扰、侵害、中伤、粗俗、猥亵、诽谤、淫秽、侵害他人隐私、种族歧视或其它令人不快的包括但不限于资讯、资料、文字、软件、音乐、照片、图形、信息或其它资料（以下简称内容）。</p>
			<p> (b) 以任何方式危害未成年人。</p>
			<p> (c) 冒充任何人或机构，或以虚伪不实的方式谎称或使人误认为与任何人或任何机构有关。</p>
			<p> (d) 对本应用进行反向工程、反向汇编、反向编译，或者以其他方式尝试发现本应用的源代码。</p>
			<p> (e) 利用本应用从事任何危害计算机网络安全的行为。</p>
			<p>2.3 您需要对自己在服务中的行为承担法律责任。您承担法律责任的形式包括但不限于：对受到侵害者进行赔偿，以及在本应用首先承担了因您的行为导致的行政处罚或侵权损害赔偿责任后，您应给予本应用等额的赔偿。</p>

			<h2>三、知识产权</h2>
			<p>3.1 本应用的一切著作权、商标权、专利权、商业秘密等知识产权，以及与本应用相关的所有信息内容（包括但不限于文字、图片、音频、视频、图表、界面设计、版面框架、有关数据或电子文档等）均受中华人民共和国法律法规和相应的国际条约保护，本应用享有上述知识产权，但相关权利人依照法律规定应享有的权利除外。</p>
			<p>3.2 未经本应用或相关权利人书面同意，您不得为任何商业或非商业目的自行或许可任何第三方实施、利用、转让上述知识产权。</p>

			<h2>四、免责声明</h2>
			<p>4.1 您理解并确认，在使用本服务的过程中，可能会遇到不可抗力等风险因素，使本服务发生中断。不可抗力是指不能预见、不能克服并不能避免且对一方或双方造成重大影响的客观事件，包括但不限于自然灾害如洪水、地震、风暴等以及社会事件如战争、动乱、政府行为等。</p>
			<p>4.2 本应用将尽力提供准确的数据与分析，但不对任何因使用或无法使用本应用服务所产生的直接、间接、附带、衍生或惩罚性的损害负责，包括但不限于利润损失、数据丢失等。</p>
			<p>4.3 用户在下载或使用本软件时，应自行承担风险，对于因使用本软件而导致的任何设备损坏、数据丢失或其他损失，本应用不承担任何责任。</p>

			<h2>五、协议的变更和终止</h2>
			<p>5.1 本应用有权在必要时修改本协议条款。您可以在相关服务页面查阅最新版本的协议条款。本协议条款变更后，如果您继续使用本应用，即视为您已接受修改后的协议。</p>
			<p>5.2 如果您不同意本应用对本协议相关条款所做的修改，您有权停止使用本应用服务。如果您继续使用本应用服务，则视为您接受本应用对本协议相关条款所做的修改。</p>
			<p>5.3 如发生下列任何一种情形，本应用有权随时中断或终止向您提供本协议项下的服务而无需对您或任何第三方承担任何责任：(a) 您提供的个人资料不真实；(b) 您违反本协议中规定的使用规则。</p>

			<h2>六、法律管辖与适用</h2>
			<p>6.1 本协议的订立、执行和解释及争议的解决均应适用中国法律。</p>
			<p>6.2 如双方就本协议内容或其执行发生任何争议，双方应尽量友好协商解决；协商不成时，任何一方均可向开发者所在地有管辖权的人民法院提起诉讼。</p>

			<p>本协议最终解释权归开发者所有。</p>
		</view>
		
		<!-- 新增返回按钮容器 -->
		<view class="footer-button-container">
			<button type="primary" class="back-button" @click="goBackToLogin">我已知晓</button>
		</view>

		<view class="safe-area-bottom"></view>
	</view>
</template>

<script>
	export default {
		data() {
			return {
				
			}
		},
		onLoad() {
			// 在跳转时设置标题
			uni.setNavigationBarTitle({
				title: '用户服务协议'
			});
		},
		methods: {
			// 新增返回登录页面的方法
			goBackToLogin() {
				// 获取当前页面栈
				const pages = getCurrentPages();
				if (pages.length > 1) {
					// 如果页面栈大于1，尝试返回上一页
					// 检查上一页是否是登录页，如果不是，可能需要 reLaunch
					// let prevPage = pages[pages.length - 2];
					// console.log('Previous page route:', prevPage.route);
					// if (prevPage.route === 'uni_modules/uni-id-pages/pages/login/login-withpwd' || prevPage.route === 'pages/login/login') { // 根据你的实际登录页路径调整
					//  uni.navigateBack({ delta: 1 });
					// } else {
					//  uni.reLaunch({ url: '/uni_modules/uni-id-pages/pages/login/login-withpwd' }); // 修改为你的登录页实际路径
					// }
					// 简单处理：直接返回上一页，通常协议是从登录/注册页打开的。
					uni.navigateBack({ delta: 1 });
				} else {
					// 如果页面栈只有当前页，说明可能是直接打开的，此时 reLaunch 到登录页
					uni.reLaunch({
						url: '/uni_modules/uni-id-pages/pages/login/login-withpwd' // 请确认这是你的密码登录页面路径
					});
				}
			}
		}
	}
</script>

<style lang="scss" scoped>
.agreement-container {
	padding: 30rpx;
	font-size: 28rpx;
	line-height: 1.8;
	color: #333;
	padding-bottom: 120rpx; /* 为底部按钮留出空间 */
}
.title {
	font-size: 40rpx;
	font-weight: bold;
	text-align: center;
	margin-bottom: 40rpx;
	color: #000;
}
.content h2 {
	font-size: 32rpx;
	font-weight: bold;
	margin-top: 30rpx;
	margin-bottom: 15rpx;
	color: #111;
}
.content p {
	margin-bottom: 20rpx;
	text-indent: 2em; // 首行缩进
}

/* 5.18 新增按钮样式 */
.footer-button-container {
	position: fixed; /* 固定在底部 */
	bottom: 0;
	left: 0;
	right: 0;
	background-color: #f8f8f8; /* 给按钮一个背景色，避免文字与页面内容重叠 */
	padding: 20rpx;
	padding-bottom: calc(20rpx + env(safe-area-inset-bottom)); /* 适配iPhone X等底部安全区域 */
	display: flex;
	justify-content: center;
	border-top: 1rpx solid #eee; /* 可选：顶部加一条分割线 */
	z-index: 10; // 确保按钮在最上层
}

.back-button {
	width: 90%;
	// 可以根据uView或项目主题色调整按钮颜色
	// 如： background-color: #9fcba7; color: white;
}

.safe-area-bottom {
	height: env(safe-area-inset-bottom);
}
</style>
